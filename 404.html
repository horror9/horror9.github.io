<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>404 â€” è¦‹ã‚‹ãªã¨è¨€ã£ãŸã ã‚</title>
  <style>
    /* åŸºæœ¬ */
    html,body{height:100%;margin:0;padding:0;font-family: "Segoe UI", "Helvetica Neue", Arial, sans-serif; background:#000; color:#fff; overflow:hidden;}
    :root{
      --flash1:#ff0044;
      --flash2:#00ddff;
      --flash3:#ffd300;
    }

    /* ä¸­å¤®ã‚«ãƒ¼ãƒ‰ */
    .card{
      position:absolute;
      left:50%; top:50%;
      transform:translate(-50%,-50%) rotate(-2deg);
      width:min(900px,92%);
      padding:28px;
      border-radius:16px;
      background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      box-shadow: 0 30px 80px rgba(0,0,0,0.7);
      text-align:center;
      backdrop-filter: blur(6px);
      animation: wobble 4s ease-in-out infinite;
    }
    @keyframes wobble{
      0%{transform:translate(-50%,-50%) rotate(-2deg) scale(1)}
      50%{transform:translate(-50%,-50%) rotate(2deg) scale(1.02)}
      100%{transform:translate(-50%,-50%) rotate(-2deg) scale(1)}
    }

    h1{
      margin:0;
      font-size:clamp(28px,6vw,84px);
      letter-spacing:6px;
      text-transform:uppercase;
      font-weight:900;
      line-height:0.9;
      animation: colorFlash 1.2s steps(4) infinite;
    }
    @keyframes colorFlash{
      0%{color:var(--flash1)}
      33%{color:var(--flash2)}
      66%{color:var(--flash3)}
      100%{color:var(--flash1)}
    }

    p.lead{margin:12px 0 0 0; font-size:16px; opacity:0.95}
    p.small{margin-top:6px; font-size:13px; opacity:0.8}

    /* é¦¬é¹¿ã§ã‹ã„404èƒŒæ™¯ */
    .big404{
      position:fixed;
      left:50%; top:50%;
      transform:translate(-50%,-50%);
      font-size:40vw;
      font-weight:900;
      color:rgba(255,255,255,0.04);
      pointer-events:none;
      user-select:none;
      filter:blur(1px);
    }

    /* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è­¦å‘Š */
    .marquee{
      width:100%;
      overflow:hidden;
      white-space:nowrap;
      box-sizing:border-box;
      margin-top:18px;
      border-top:2px dashed rgba(255,255,255,0.06);
      padding-top:12px;
    }
    .marquee span{display:inline-block;padding:8px 18px; font-weight:700; transform:skewX(-8deg); animation: slide 7s linear infinite;}
    @keyframes slide{0%{transform:translateX(100%) skewX(-8deg)}100%{transform:translateX(-140%) skewX(-8deg)}}

    /* ã†ã–ã„ãƒœã‚¿ãƒ³ */
    .btn{
      display:inline-block;
      margin-top:18px;
      padding:12px 20px;
      border-radius:12px;
      border:3px dashed rgba(255,255,255,0.12);
      background:linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01));
      cursor:pointer;
      font-weight:800;
      font-size:15px;
      animation: pulse 1s ease-in-out infinite;
    }
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)}}

    /* è¿½ã„ã‹ã‘ã‚‹å°ã•ãªãƒãƒƒãƒ— */
    .nagger{
      position:fixed;
      right:18px;
      bottom:18px;
      padding:10px 14px;
      border-radius:14px;
      background:linear-gradient(180deg,#ff6b6b,#ffd400);
      color:#111;
      font-weight:800;
      box-shadow:0 12px 30px rgba(0,0,0,0.5);
      cursor:pointer;
    }

    /* æµ®éŠçµµæ–‡å­— */
    .emoji{position:fixed; font-size:28px; pointer-events:none; user-select:none; animation: floatUp 6s linear forwards;}
    @keyframes floatUp{0%{transform:translateY(0) rotate(0deg); opacity:1}100%{transform:translateY(-140vh) rotate(720deg); opacity:0}}

    /* ãƒã‚¦ã‚¹è¿½å¾“å½± */
    .follower{position:fixed; left:0; top:0; width:20px; height:20px; border-radius:50%; background:rgba(255,255,255,0.06); pointer-events:none; transform:translate(-50%,-50%); transition:transform 0.05s linear;}

    /* å°ç”»é¢å¯¾å¿œ */
    @media (max-width:520px){
      .big404{font-size:120vw}
      .card{padding:18px}
      .nagger{display:none}
    }
  </style>
</head>
<body>
  <div class="big404" aria-hidden="true">404</div>

  <div class="card" role="main" aria-labelledby="title" aria-live="polite">
    <h1 id="title">ãƒšãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚‰ãªã„ï¼</h1>
    <p class="lead">ã‚ã€å›ã¯ã“ã“ã«æ¥ã‚‹ã¹ãã˜ã‚ƒãªã‹ã£ãŸã€‚å­˜åœ¨ã—ãªã„ãƒšãƒ¼ã‚¸ã ã‚ˆã€‚é–‰ã˜ã‚‹ã‹æˆ»ã‚‹ã‹ã€ã©ã£ã¡ã‹é¸ã¹ã°ã„ã„ã®ã«ã€‚</p>
    <div class="marquee" aria-hidden="true"><span>404 â€” å­˜åœ¨ã—ãªã„ â€” é–‰ã˜ã¦ â€” æˆ»ã‚Œ â€” 404 â€” è¦‹ã‚‹ãª â€” 404 â€” é–‰ã˜ã‚</span></div>

    <div style="margin-top:14px;">
      <button class="btn" id="stayBtn">ã¾ã è¦‹ã‚‹</button>
      <button class="btn" id="leaveBtn">æ¶ˆãˆã‚</button>
    </div>

    <p class="small">ãƒ’ãƒ³ãƒˆ: Escã‚­ãƒ¼ã§è‰²åè»¢ã€ä»»æ„ã®ã‚­ãƒ¼ã§ã•ã‚‰ã«é‚ªé­”ãŒå…¥ã‚Šã¾ã™ã€‚</p>
  </div>

  <div class="nagger" id="nagger">ã¾ã é–‰ã˜ãªã„ã®ï¼Ÿ</div>
  <div class="follower" id="follower" aria-hidden="true"></div>

  <script>
    // æ³¨æ„ï¼šç‚¹æ»…ãŒå¤šã‚ã€‚å…‰éæ•ã®äººã¯é›¢ã‚Œã¦ã€‚
    const EMOJIS = ["ğŸ’€","ğŸ’©","ğŸ¤¡","ğŸ‘€","âš ï¸","ğŸ™ˆ","ğŸ˜µ","ğŸ”´","âŒ","ğŸš«"];
    function spawnEmoji(){
      const e = document.createElement('div');
      e.className = 'emoji';
      e.textContent = EMOJIS[Math.floor(Math.random()*EMOJIS.length)];
      e.style.left = Math.random()*100 + 'vw';
      e.style.top = (100 + Math.random()*12) + 'vh';
      e.style.fontSize = (18 + Math.random()*80) + 'px';
      document.body.appendChild(e);
      setTimeout(()=>e.remove(), 7000 + Math.random()*4000);
    }

    // å®šæœŸçš„ã«çµµæ–‡å­—ã‚’é™ã‚‰ã›ã‚‹
    const emojiInterval = setInterval(spawnEmoji, 520);

    // ãƒœã‚¿ãƒ³å‹•ä½œ
    document.getElementById('stayBtn').addEventListener('click', ()=>{
      // ãŸãã•ã‚“ã‚¢ãƒ©ãƒ¼ãƒˆï¼ˆã†ã–ã„ï¼‰
      for(let i=0;i<4;i++){
        setTimeout(()=> alert("è¦‹ç¶šã‘ã‚‹ã‚“ã ã­ã€‚å¾Œæ‚”ã™ã‚‹ã‚ˆã€‚"), i*250);
      }
      // è¿½åŠ ã®çµµæ–‡å­—çˆ†æ’ƒ
      for(let i=0;i<20;i++){ setTimeout(spawnEmoji, i*60); }
    });

    document.getElementById('leaveBtn').addEventListener('click', ()=>{
      // ç”»é¢ã‚’ãƒãƒ©ãƒãƒ©ã«ã—ã¦æœ€çµ‚çš„ã«ãƒˆãƒƒãƒ—ã«é£›ã°ã™
      document.body.style.transition = 'filter 0.6s ease, transform 0.9s ease';
      document.body.style.transform = 'scale(0.86) rotate(-8deg)';
      document.body.style.filter = 'blur(6px) hue-rotate(60deg)';
      setTimeout(()=> {
        // å¼·å¼•ã«ãƒ«ãƒ¼ãƒˆã¸é£›ã°ã™ï¼ˆå®Ÿéš›ã®ã‚µã‚¤ãƒˆã§ã¯ã“ã“ã‚’é©åˆ‡ãªãƒ‘ã‚¹ã«å¤‰ãˆã¦ï¼‰
        location.href = '/';
      }, 900);
    });

    // å³ä¸‹ã®å°è¢‹ã€‚è§¦ã‚‹ã¨åå¿œ
    const nag = document.getElementById('nagger');
    nag.addEventListener('mouseenter', ()=> { nag.style.transform='scale(0.92)'; spawnEmoji(); });
    nag.addEventListener('mouseleave', ()=> nag.style.transform='scale(1)');

    // ãƒã‚¦ã‚¹è¿½å¾“
    const follower = document.getElementById('follower');
    window.addEventListener('mousemove', e => follower.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`);

    // ä»»æ„ã‚­ãƒ¼ã§ã•ã‚‰ãªã‚‹å«ŒãŒã‚‰ã›
    window.addEventListener('keydown', (ev) => {
      // Escã§åè»¢
      if(ev.key === 'Escape'){
        document.body.style.filter = (document.body.style.filter==='invert(1)') ? 'invert(0)' : 'invert(1)';
      } else {
        // ãƒ©ãƒ³ãƒ€ãƒ ãªåŠ¹æœã‚’åŠ ãˆã‚‹
        document.body.style.transition = 'background 0.2s, transform 0.2s';
        document.body.style.transform = `translate(${(Math.random()-0.5)*10}px, ${(Math.random()-0.5)*10}px)`;
        // ã¡ã‚‡ã£ã¨ã ã‘ãƒ“ãƒ¼ãƒ—éŸ³ï¼ˆWebAudioï¼‰
        try {
          const ctx = new (window.AudioContext || window.webkitAudioContext)();
          const o = ctx.createOscillator();
          const g = ctx.createGain();
          o.type = 'square';
          o.frequency.value = 220 + Math.random()*880;
          g.gain.value = 0.02;
          o.connect(g); g.connect(ctx.destination);
          o.start();
          setTimeout(()=>{ o.stop(); ctx.close(); }, 80 + Math.random()*160);
        } catch(e){ /* ãƒ–ãƒ©ã‚¦ã‚¶ãŒè¨±å¯ã—ãªã„å ´åˆã¯é™ã‹ã« */ }
        // å°‘ã—çµµæ–‡å­—ã‚’å‡ºã™
        for(let i=0;i<4;i++){ setTimeout(spawnEmoji, i*60); }
      }
    });

    // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å¾Œã€çŸ­ã„ã‚·ãƒ¥ãƒ«ãƒƒã¨ã—ãŸãƒ†ã‚­ã‚¹ãƒˆï¼ˆå«Œï¼‰
    setTimeout(()=> {
      const bar = document.createElement('div');
      bar.style.position='fixed'; bar.style.left='50%'; bar.style.top='8%';
      bar.style.transform='translateX(-50%)';
      bar.style.padding='10px 16px'; bar.style.borderRadius='10px';
      bar.style.background='rgba(255,0,68,0.92)'; bar.style.color='#fff'; bar.style.fontWeight='800';
      bar.textContent = "404 â€” å­˜åœ¨ã—ãªã„ãƒšãƒ¼ã‚¸ â€” ã™ãé–‰ã˜ã¦";
      document.body.appendChild(bar);
      setTimeout(()=> bar.remove(), 6000);
    }, 800);

    // æœ€å¾Œã«ã€ã‚‚ã—ã‚µã‚¤ãƒˆã«æˆ»ã‚‹ãƒªãƒ³ã‚¯ãŒæ¬²ã—ã‘ã‚Œã°1ç§’å¾Œã«è¡¨ç¤ºã—ã¦ã‚ã’ã‚‹ï¼ˆè¦ªåˆ‡ï¼‰
    setTimeout(()=>{
      const link = document.createElement('a');
      link.href = "/";
      link.textContent = "ã‚µã‚¤ãƒˆãƒˆãƒƒãƒ—ã¸ï¼ˆæœ¬å½“ã«æ¶ˆãˆãŸã„ãªã‚‰æŠ¼ã›ï¼‰";
      link.style.display='inline-block';
      link.style.marginTop='14px';
      link.style.padding='8px 12px';
      link.style.borderRadius='10px';
      link.style.background='rgba(255,255,255,0.06)';
      link.style.color='#fff';
      link.style.fontWeight='700';
      link.style.textDecoration='none';
      document.querySelector('.card').appendChild(link);
    }, 1000);

    // ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—: ã‚¿ãƒ–ãŒéè¡¨ç¤ºãªã‚‰çˆ†æ’ƒã‚’é…ã‚‰ã›ã‚‹ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã«å„ªã—ã„ï¼‰
    document.addEventListener('visibilitychange', () => {
      if(document.hidden) clearInterval(emojiInterval);
    });
  </script>
</body>
</html>
